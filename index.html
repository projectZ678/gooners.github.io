<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>gooners.wtf</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root {
      --bg: #0a0a0a;
      --text: #ffffff;
      --gray: #cccccc;
      --border: #333333;
      --accent: #ffffff;
      --card: #111111;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Courier New', monospace;
      min-height: 100vh;
      line-height: 1.6;
    }
    header {
      position: fixed; top: 0; left: 0; right: 0;
      padding: 1.5rem 5%; background: rgba(10,10,10,0.95);
      border-bottom: 1px solid var(--border); z-index: 100;
      backdrop-filter: blur(10px);
    }
    .logo {
      font-size: 2rem; font-weight: 900; letter-spacing: 3px;
      display: flex; align-items: center; gap: 10px;
    }
    .logo-icon { color: var(--accent); }
    nav ul {
      display: flex; gap: 2.5rem; list-style: none; float: right;
    }
    nav a {
      color: var(--gray); text-decoration: none; font-weight: 600;
      position: relative; transition: 0.3s;
    }
    nav a::after {
      content: ''; position: absolute; bottom: -8px; left: 0; width: 0; height: 2px;
      background: var(--accent); transition: 0.3s;
    }
    nav a:hover, nav a.active { color: var(--text); }
    nav a:hover::after, nav a.active::after { width: 100%; }

    .container { max-width: 1300px; margin: 0 auto; padding: 2rem; padding-top: 120px; }
    .page { display: none; animation: fade 0.6s; }
    .page.active { display: block; }
    @keyframes fade { from { opacity: 0; } to { opacity: 1; } }

    .hero { text-align: center; padding: 4rem 0; }
    .hero h1 {
      font-size: 4.5rem; font-weight: 900; letter-spacing: 5px;
      background: linear-gradient(90deg, #fff, #aaa);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }
    .avatar {
      width: 180px; height: 180px; border-radius: 50%; margin: 2rem auto;
      border: 3px solid white; box-shadow: 0 0 40px rgba(255,255,255,0.3);
      background: url('https://i.pinimg.com/736x/f8/c9/70/f8c970cc58337600914e75b661c0752a.jpg') center/cover;
    }
    .socials a {
      font-size: 2rem; color: white; margin: 0 1rem; transition: 0.4s;
    }
    .socials a:hover { transform: scale(1.4); }

    .join-btn {
      background: transparent; color: white; border: 2px solid white;
      padding: 1.2rem 3rem; font-size: 1.3rem; font-weight: 700;
      border-radius: 50px; cursor: pointer; transition: 0.4s; margin-top: 2rem;
    }
    .join-btn:hover {
      background: white; color: black; transform: translateY(-5px);
    }

    /* Usernames Box */
    .usernames-container {
      background: var(--card); border: 1px solid var(--border);
      border-radius: 16px; padding: 2rem; margin: 3rem 0;
      max-height: 500px; overflow-y: auto;
    }
    .usernames-grid {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 1rem; font-family: 'Courier New', monospace;
    }
    .username-item {
      background: #1a1a1a; padding: 0.8rem; border-radius: 8px;
      text-align: center; border: 1px solid #333; font-weight: bold;
      transition: 0.3s;
    }
    .username-item.available { border-color: #00ff00; color: #00ff00; box-shadow: 0 0 15px rgba(0,255,0,0.3); }
    .username-item.taken { opacity: 0.5; }

    /* Generator Section */
    .generator {
      background: var(--card); border: 1px solid var(--border);
      border-radius: 16px; padding: 2rem; margin: 3rem 0;
    }
    .stats {
      display: flex; justify-content: space-around; flex-wrap: wrap; gap: 1rem; margin: 2rem 0;
      font-size: 1.1rem; font-weight: bold;
    }
    .stat { background: #1a1a1a; padding: 1rem 2rem; border-radius: 12px; border: 1px solid #333; }

    button.ctrl {
      background: white; color: black; border: none; padding: 1rem 2rem;
      border-radius: 50px; font-weight: bold; cursor: pointer; margin: 0 0.5rem;
    }
    button.ctrl:hover { transform: scale(1.05); }

    footer {
      text-align: center; padding: 3rem; border-top: 1px solid var(--border); margin-top: 5rem;
      color: #666; font-size: 0.9rem;
    }

    @media (max-width: 768px) {
      .hero h1 { font-size: 2.8rem; }
      nav ul { display: none; }
      .usernames-grid { grid-template-columns: repeat(3, 1fr); }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo" id="home-link">
      <div class="logo-icon">†</div>
      GOONERS
    </div>
    <nav>
      <ul>
        <li><a href="#" class="nav-link active" data-page="home">Home</a></li>
        <li><a href="#" class="nav-link" data-page="generator">Generator</a></li>
        <li><a href="#" class="nav-link" data-page="usernames">Available</a></li>
        <li><a href="#" class="nav-link" data-page="contact">Contact</a></li>
      </ul>
    </nav>
  </header>

  <div class="container">
    <!-- Home -->
    <div id="home-page" class="page active">
      <div class="hero">
        <h1>GOONERS.WTF</h1>
        <p style="color:#aaa; font-size:1.3rem;">4-Letter Discord Sniper • Real-time • 429-Proof</p>
        <div class="avatar"></div>
        <div class="socials">
          <a href="https://www.tiktok.com/@rdm.sxin" target="_blank"><i class="fab fa-tiktok"></i></a>
          <a href="https://github.com/projectZ678" target="_blank"><i class="fab fa-github"></i></a>
          <a href="https://discord.gg/SuBfcfFJnG" target="_blank"><i class="fab fa-discord"></i></a>
        </div>
        <button class="join-btn" onclick="showPage('generator')">
          <i class="fas fa-search"></i> START SNIPING
        </button>
      </div>
    </div>

    <!-- Generator Page -->
    <div id="generator-page" class="page">
      <div class="hero">
        <h1>SNIPER1X LIVE</h1>
        <p>Real-time 4-letter Discord username checker • Never crashes • Auto-proxy</p>

        <div class="generator">
          <div class="stats">
            <div class="stat">Checked: <span id="checked">0</span></div>
            <div class="stat">Available: <span id="found">0</span></div>
            <div class="stat">Speed: <span id="speed">0</span>/s</div>
            <div class="stat">Proxies: <span id="proxies">Loading...</span></div>
          </div>

          <div style="text-align:center; margin: 2rem 0;">
            <button class="ctrl" id="startBtn">START SNIPER</button>
            <button class="ctrl" id="stopBtn" disabled>STOP</button>
          </div>

          <div id="live-log" style="background:#000; padding:1rem; border-radius:12px; height:300px; overflow-y:auto; font-family:'Courier New'; font-size:0.9rem; margin-top:1rem;"></div>
        </div>
      </div>
    </div>

    <!-- Available Usernames -->
    <div id="usernames-page" class="page">
      <div class="hero">
        <h1>AVAILABLE 4-LETTERS</h1>
        <p>Live updated from SNIPER1X • <span id="total-found">0</span> found</p>
        <div class="usernames-container">
          <div class="usernames-grid" id="username-grid">
            <!-- Filled by JS -->
          </div>
        </div>
      </div>
    </div>

    <!-- Contact (keep your existing one or use simplified) -->
    <div id="contact-page" class="page">
      <div class="hero">
        <h1>CONTACT OPSEC</h1>
        <p style="color:#aaa;">opsec@gooners.wtf • discord.gg/SuBfcfFJnG</p>
      </div>
    </div>
  </div>

  <footer>
    <p>© 2025 gooners.wtf • SNIPER1X v2 • All rights reserved</p>
  </footer>

  <script>
    // === GLOBALS ===
    const chars = "abcdefghijklmnopqrstuvwxyz0123456789";
    const allCombos = [...chars].flatMap(a => [...chars].flatMap(b => [...chars].flatMap(c => [...chars].map(d => a+b+c+d))));
    let found = new Set();
    let checked = 0;
    let startTime = 0;
    let running = false;
    let workerCount = navigator.hardwareConcurrency || 4;

    // Load existing from your GitHub
    async function loadExisting() {
      const files = [
        "https://raw.githubusercontent.com/projectZ678/gooners.wtf/main/AVAILABLE_1.txt",
        "https://raw.githubusercontent.com/projectZ678/gooners.wtf/main/AVAILABLE_2.txt",
        // Add more if you have
      ];
      for (let url of files) {
        try {
          const res = await fetch(url + '?t=' + Date.now());
          if (res.ok) {
            const text = await res.text();
            text.split('\n').forEach(line => {
              const n = line.trim();
              if (n.length === 4 && /^[a-z0-9]+$/.test(n)) {
                found.add(n);
                addUsernameToGrid(n, true);
              }
            });
          }
        } catch(e) {}
      }
      document.getElementById('total-found').textContent = found.size;
    }

    // Grid
    function addUsernameToGrid(name, available = true) {
      const grid = document.getElementById('username-grid');
      const el = document.createElement('div');
      el.className = 'username-item' + (available ? ' available' : '');
      el.textContent = name;
      grid.prepend(el);
    }

    // Proxies
    let proxies = [];
    async function loadProxies() {
      const sources = [
        "https://api.proxyscrape.com/v2/?request=getproxies&protocol=http",
        "https://raw.githubusercontent.com/TheSpeedX/PROXY-List/master/http.txt"
      ];
      for (let src of sources) {
        try {
          const res = await fetch(src);
          const text = await res.text();
          text.split('\n').forEach(line => {
            line = line.trim();
            if (line && line.includes(':')) proxies.push("http://" + line);
          });
        } catch(e) {}
      }
      proxies = [...new Set(proxies)];
      if (proxies.length === 0) proxies = [null];
      document.getElementById('proxies').textContent = proxies.length;
    }

    // Check function (429-proof)
    async function checkUsername(name) {
      if (found.has(name)) return;
      
      for (let attempt = 0; attempt < 10; attempt++) {
        const proxy = proxies.length > 1 ? proxies[Math.floor(Math.random() * proxies.length)] : proxies[0];
        const controller = new AbortController();
        const timeout = setTimeout(() => controller.abort(), 10000);

        try {
          const res = await fetch("https://discord.com/api/v10/unique-username/username-attempt-unauthed", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ username: name }),
            signal: controller.signal,
            ...(proxy ? { proxy: { server: proxy } } : {})
          });

          clearTimeout(timeout);
          const data = await res.json();

          if (res.status === 200 && !data.taken) {
            found.add(name);
            document.getElementById('found').textContent = found.size;
            document.getElementById('total-found').textContent = found.size;
            addUsernameToGrid(name, true);
            log(`<span style="color:#0f0;">[AVAILABLE] ${name}</span>`);
            return true;
          } else if (res.status === 429) {
            const wait = (data.retry_after || 5) + 1;
            log(`<span style="color:#ff0;">[429] ${name} → wait ${wait}s</span>`);
            await new Promise(r => setTimeout(r, wait * 1000));
          }
        } catch (e) {
          if (proxy) proxies = proxies.filter(p => p !== proxy);
        }
      }
      return false;
    }

    // Logging
    function log(msg) {
      const log = document.getElementById('live-log');
      const div = document.createElement('div');
      div.innerHTML = msg;
      log.prepend(div);
      if (log.children.length > 100) log.removeChild(log.lastChild);
    }

    // Main sniper loop
    async function startSniper() {
      if (running) return;
      running = true;
      document.getElementById('startBtn').disabled = true;
      document.getElementById('stopBtn').disabled = false;
      startTime = Date.now();

      const batchSize = 50;
      let index = 0;

      const worker = async () => {
        while (running && index < allCombos.length) {
          const batch = allCombos.slice(index, index + batchSize);
          index += batchSize;

          await Promise.all(batch.map(async (name) => {
            if (!found.has(name)) {
              await checkUsername(name);
              checked++;
              document.getElementById('checked').textContent = checked;
            }
          }));

          const elapsed = (Date.now() - startTime) / 1000;
          document.getElementById('speed').textContent = Math.round(checked / elapsed * 10) / 10;
        }
      };

      for (let i = 0; i < workerCount; i++) {
        worker();
      }
    }

    function stopSniper() {
      running = false;
      document.getElementById('startBtn').disabled = false;
      document.getElementById('stopBtn').disabled = true;
    }

    // Navigation
    function showPage(id) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
      document.getElementById(id + '-page').classList.add('active');
      document.querySelector(`.nav-link[data-page="${id}"]`).classList.add('active');
    }
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        showPage(link.dataset.page);
      });
    });
    document.getElementById('home-link').addEventListener('click', () => showPage('home'));

    // Init
    window.onload = async () => {
      await loadProxies();
      await loadExisting();
      document.getElementById('startBtn').onclick = startSniper;
      document.getElementById('stopBtn').onclick = stopSniper;
      log("<span style='color:#0ff;'>SNIPER1X LOADED • Ready to hunt</span>");
    };
  </script>
</body>
</html>
